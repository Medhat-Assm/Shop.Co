<section class="mt-[5rem] flex items-center justify-center">
  <style>
    .nav-for-slider .swiper-slide {
      height: auto;
      width: auto;
      cursor: pointer;
    }
    .swiper-wrapper {
      height: auto;
    }
    .nav-for-slider .swiper-slide img {
      border: 2px solid transparent;
      border-radius: 10px;
    }
    .nav-for-slider .swiper-slide-thumb-active img {
      border-color: rgb(79 70 229);
    }
  </style>
  <section class="py-24">
    <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2">
        <div class="slider-box w-full h-full max-lg:mx-auto mx-0">
          <img [src]="product()?.imageCover" class="w-[50%]" alt="product image" />
        </div>
        <div class="flex justify-center items-center">
          <div
            class="pro-detail w-full max-lg:max-w-[608px] lg:pl-8 xl:pl-16 max-lg:mx-auto max-lg:mt-8"
          >
            <div class="flex items-center justify-between gap-6 mb-6">
              <div class="text">
                <h2
                  class="font-manrope font-bold text-3xl leading-10 text-black dark:text-white mb-2"
                >
                  {{ product()?.title }}
                </h2>
                <p class="font-normal text-base text-gray-500">{{ product()?.category?.name }}</p>
              </div>
            </div>

            <div class="flex flex-col min-[400px]:flex-row min-[400px]:items-center mb-8 gap-y-3">
              <div class="flex items-center">
                <h5
                  class="font-manrope font-semibold text-2xl leading-9 text-black dark:text-white"
                >
                  {{ product()?.price | currency : 'EGP' }}
                </h5>
              </div>
              <svg
                class="mx-5 max-[400px]:hidden"
                xmlns="http://www.w3.org/2000/svg"
                width="2"
                height="36"
                viewBox="0 0 2 36"
                fill="none"
              >
                <path d="M1 0V36" stroke="#E5E7EB" />
              </svg>
              <button class="flex items-center gap-1 rounded-lg bg-amber-400 py-1.5 px-2.5 w-max">
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_12657_16865)">
                    <path
                      d="M8.10326 2.26718C8.47008 1.52393 9.52992 1.52394 9.89674 2.26718L11.4124 5.33818C11.558 5.63332 11.8396 5.83789 12.1653 5.88522L15.5543 6.37768C16.3746 6.49686 16.7021 7.50483 16.1086 8.08337L13.6562 10.4738C13.4205 10.7035 13.313 11.0345 13.3686 11.3589L13.9475 14.7343C14.0877 15.5512 13.2302 16.1742 12.4966 15.7885L9.46534 14.1948C9.17402 14.0417 8.82598 14.0417 8.53466 14.1948L5.5034 15.7885C4.76978 16.1742 3.91235 15.5512 4.05246 14.7343L4.63137 11.3589C4.68701 11.0345 4.57946 10.7035 4.34378 10.4738L1.89144 8.08337C1.29792 7.50483 1.62543 6.49686 2.44565 6.37768L5.8347 5.88522C6.16041 5.83789 6.44197 5.63332 6.58764 5.33818L8.10326 2.26718Z"
                      fill="white"
                    />
                    <g clip-path="url(#clip1_12657_16865)">
                      <path
                        d="M8.10326 2.26718C8.47008 1.52393 9.52992 1.52394 9.89674 2.26718L11.4124 5.33818C11.558 5.63332 11.8396 5.83789 12.1653 5.88522L15.5543 6.37768C16.3746 6.49686 16.7021 7.50483 16.1086 8.08337L13.6562 10.4738C13.4205 10.7035 13.313 11.0345 13.3686 11.3589L13.9475 14.7343C14.0877 15.5512 13.2302 16.1742 12.4966 15.7885L9.46534 14.1948C9.17402 14.0417 8.82598 14.0417 8.53466 14.1948L5.5034 15.7885C4.76978 16.1742 3.91235 15.5512 4.05246 14.7343L4.63137 11.3589C4.68701 11.0345 4.57946 10.7035 4.34378 10.4738L1.89144 8.08337C1.29792 7.50483 1.62543 6.49686 2.44565 6.37768L5.8347 5.88522C6.16041 5.83789 6.44197 5.63332 6.58764 5.33818L8.10326 2.26718Z"
                        fill="white"
                      />
                    </g>
                  </g>
                  <defs>
                    <clipPath id="clip0_12657_16865">
                      <rect width="18" height="18" fill="white" />
                    </clipPath>
                    <clipPath id="clip1_12657_16865">
                      <rect width="18" height="18" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
                <span class="text-base font-medium text-white">{{
                  product()?.ratingsAverage
                }}</span>
              </button>
            </div>
            <div
              class="flex items-center flex-col min-[400px]:flex-row gap-3 mb-3 min-[400px]:mb-8"
            >
              <button
                [disabled]="isInWishlistFlag()"
                (click)="addToWishlist(productId)"
                class="disabled:cursor-not-allowed disabled group py-3 px-5 rounded-full bg-black/20 dark:bg-white/60 text-black dark:text-white font-semibold text-lg w-full flex items-center justify-center gap-2 shadow-sm shadow-transparent transition-all duration-500 hover:shadow-black disabled:hover:shadow-none hover:text-white disabled:hover:text-black hover:bg-black disabled:hover:bg-black/20 dark:disabled:hover:bg-white/60 dark:hover:shadow-white dark:disabled:hover:shadow-none dark:hover:text-black dark:hover:bg-white disabled:dark:hover:text-white cursor-pointer"
              >
                @if(!isInWishlistFlag()){
                <i class="fa-regular fa-heart"></i>
                {{ 'Add Wishlist' | translate }}
                }@else{
                <i class="fa-solid fa-heart"></i>
                {{ 'Added to Wishlist' | translate }}
                }
              </button>
            </div>
            <button
              (click)="addToCart(productId)"
              class="text-center w-full px-5 py-4 rounded-[100px] bg-black dark:bg-white text-white dark:text-black flex items-center justify-center font-semibold text-lg shadow-sm shadow-transparent transition-all duration-500 hover:bg-black/80 dark:hover:shadow-white dark:hover:bg-white/80 cursor-pointer"
            >
              <div class="flex items-center justify-center gap-4">
                <i class="fa-solid fa-cart-shopping"></i>
                <p>{{ 'Add to Cart' | translate }}</p>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    var swiper_thumbs = new Swiper('.nav-for-slider', {
      loop: true,
      spaceBetween: 30,
      slidesPerView: 5,
    });
    var swiper = new Swiper('.main-slide-carousel', {
      slidesPerView: 1,
      thumbs: {
        swiper: swiper_thumbs,
      },
    });
  </script>
</section>
